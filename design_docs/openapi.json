{"openapi":"3.1.0","info":{"title":"Game Design Assistant API","version":"1.0.0"},"paths":{"/":{"get":{"summary":"Root","operationId":"root__get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/health":{"get":{"summary":"Health Check","operationId":"health_check_health_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/api/v1/projects":{"get":{"summary":"Get Projects","description":"List all projects for a user","operationId":"get_projects_api_v1_projects_get","parameters":[{"name":"user_id","in":"query","required":false,"schema":{"type":"integer","description":"User ID","default":1,"title":"User Id"},"description":"User ID"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/ProjectResponse"},"title":"Response Get Projects Api V1 Projects Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"post":{"summary":"Create New Project","description":"Create a new project","operationId":"create_new_project_api_v1_projects_post","parameters":[{"name":"user_id","in":"query","required":false,"schema":{"type":"integer","description":"User ID","default":1,"title":"User Id"},"description":"User ID"}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ProjectCreateRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ProjectResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/projects/{project_id}":{"get":{"summary":"Get Project By Id","description":"Get project details","operationId":"get_project_by_id_api_v1_projects__project_id__get","parameters":[{"name":"project_id","in":"path","required":true,"schema":{"type":"integer","title":"Project Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ProjectResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"put":{"summary":"Update Project By Id","description":"Update project details","operationId":"update_project_by_id_api_v1_projects__project_id__put","parameters":[{"name":"project_id","in":"path","required":true,"schema":{"type":"integer","title":"Project Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ProjectUpdateRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ProjectResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"summary":"Delete Project By Id","description":"Delete a project","operationId":"delete_project_by_id_api_v1_projects__project_id__delete","parameters":[{"name":"project_id","in":"path","required":true,"schema":{"type":"integer","title":"Project Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/DeleteResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/projects/{project_id}/files":{"get":{"summary":"Get Project Files","description":"List knowledge base files for a project","operationId":"get_project_files_api_v1_projects__project_id__files_get","parameters":[{"name":"project_id","in":"path","required":true,"schema":{"type":"integer","title":"Project Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/FileListResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"post":{"summary":"Upload Project File","description":"Upload a file to project knowledge base","operationId":"upload_project_file_api_v1_projects__project_id__files_post","parameters":[{"name":"project_id","in":"path","required":true,"schema":{"type":"integer","title":"Project Id"}}],"requestBody":{"required":true,"content":{"multipart/form-data":{"schema":{"$ref":"#/components/schemas/Body_upload_project_file_api_v1_projects__project_id__files_post"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/FileUploadResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/projects/{project_id}/files/{file_id}":{"delete":{"summary":"Delete Project File","description":"Delete a file from project knowledge base","operationId":"delete_project_file_api_v1_projects__project_id__files__file_id__delete","parameters":[{"name":"project_id","in":"path","required":true,"schema":{"type":"integer","title":"Project Id"}},{"name":"file_id","in":"path","required":true,"schema":{"type":"integer","title":"File Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/DeleteResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/projects/{project_id}/chat/sessions":{"get":{"summary":"Get Chat Sessions","description":"List all chat sessions for a project","operationId":"get_chat_sessions_api_v1_projects__project_id__chat_sessions_get","parameters":[{"name":"project_id","in":"path","required":true,"schema":{"type":"integer","title":"Project Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/ChatSessionResponse"},"title":"Response Get Chat Sessions Api V1 Projects  Project Id  Chat Sessions Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"post":{"summary":"Create New Chat Session","description":"Create a new chat session for a project","operationId":"create_new_chat_session_api_v1_projects__project_id__chat_sessions_post","parameters":[{"name":"project_id","in":"path","required":true,"schema":{"type":"integer","title":"Project Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ChatSessionCreateRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ChatSessionCreateResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/chat/sessions/{session_id}/messages":{"get":{"summary":"Get Chat History","description":"Get all messages for a specific chat session","operationId":"get_chat_history_api_v1_chat_sessions__session_id__messages_get","parameters":[{"name":"session_id","in":"path","required":true,"schema":{"type":"string","title":"Session Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ChatHistoryResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/chat/sessions/{session_id}/title":{"put":{"summary":"Update Chat Session Title Endpoint","description":"Update chat session title - either with provided title or auto-generate from chat content","operationId":"update_chat_session_title_endpoint_api_v1_chat_sessions__session_id__title_put","parameters":[{"name":"session_id","in":"path","required":true,"schema":{"type":"string","title":"Session Id"}}],"requestBody":{"content":{"application/json":{"schema":{"anyOf":[{"$ref":"#/components/schemas/ChatSessionTitleUpdateRequest"},{"type":"null"}],"title":"Title Request"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ChatSessionResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/chat":{"post":{"summary":"Chat Message","description":"Send a chat message with exact same functionality as rag_agent.chat","operationId":"chat_message_api_v1_chat_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ChatRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ChatResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}}},"components":{"schemas":{"Body_upload_project_file_api_v1_projects__project_id__files_post":{"properties":{"file":{"type":"string","format":"binary","title":"File"},"filename":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Filename","description":"Custom filename to store in database. If not provided, uses the original uploaded filename."}},"type":"object","required":["file"],"title":"Body_upload_project_file_api_v1_projects__project_id__files_post"},"ChatHistoryResponse":{"properties":{"session_id":{"type":"string","title":"Session Id"},"messages":{"items":{"$ref":"#/components/schemas/MessageResponse"},"type":"array","title":"Messages"}},"type":"object","required":["session_id","messages"],"title":"ChatHistoryResponse"},"ChatRequest":{"properties":{"message":{"type":"string","minLength":1,"title":"Message"},"knowledge_base_name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Knowledge Base Name"},"session_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Session Id"},"extra_config":{"anyOf":[{"additionalProperties":true,"type":"object"},{"type":"null"}],"title":"Extra Config"}},"type":"object","required":["message"],"title":"ChatRequest"},"ChatResponse":{"properties":{"output":{"type":"string","title":"Output"},"input":{"type":"string","title":"Input"},"session_id":{"type":"string","title":"Session Id"},"timestamp":{"type":"string","format":"date-time","title":"Timestamp"}},"type":"object","required":["output","input","session_id"],"title":"ChatResponse"},"ChatSessionCreateRequest":{"properties":{"user_id":{"type":"integer","title":"User Id"},"session_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Session Id"}},"type":"object","required":["user_id"],"title":"ChatSessionCreateRequest"},"ChatSessionCreateResponse":{"properties":{"id":{"type":"integer","title":"Id"},"session_id":{"type":"string","title":"Session Id"},"project_id":{"type":"integer","title":"Project Id"},"user_id":{"type":"integer","title":"User Id"},"title":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Title"},"created_at":{"type":"string","format":"date-time","title":"Created At"},"updated_at":{"type":"string","format":"date-time","title":"Updated At"}},"type":"object","required":["id","session_id","project_id","user_id","created_at","updated_at"],"title":"ChatSessionCreateResponse"},"ChatSessionResponse":{"properties":{"id":{"type":"integer","title":"Id"},"session_id":{"type":"string","title":"Session Id"},"project_id":{"type":"integer","title":"Project Id"},"user_id":{"type":"integer","title":"User Id"},"title":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Title"},"created_at":{"type":"string","format":"date-time","title":"Created At"},"updated_at":{"type":"string","format":"date-time","title":"Updated At"}},"type":"object","required":["id","session_id","project_id","user_id","created_at","updated_at"],"title":"ChatSessionResponse"},"ChatSessionTitleUpdateRequest":{"properties":{"title":{"anyOf":[{"type":"string","maxLength":255},{"type":"null"}],"title":"Title","description":"Title for the chat session. If not provided, will generate automatically from chat content."}},"type":"object","title":"ChatSessionTitleUpdateRequest"},"DeleteResponse":{"properties":{"success":{"type":"boolean","title":"Success"},"message":{"type":"string","title":"Message"}},"type":"object","required":["success","message"],"title":"DeleteResponse"},"FileListResponse":{"properties":{"files":{"items":{"additionalProperties":true,"type":"object"},"type":"array","title":"Files"}},"type":"object","required":["files"],"title":"FileListResponse"},"FileUploadResponse":{"properties":{"message":{"type":"string","title":"Message"},"file_name":{"type":"string","title":"File Name"},"success":{"type":"boolean","title":"Success","default":true}},"type":"object","required":["message","file_name"],"title":"FileUploadResponse"},"HTTPValidationError":{"properties":{"detail":{"items":{"$ref":"#/components/schemas/ValidationError"},"type":"array","title":"Detail"}},"type":"object","title":"HTTPValidationError"},"MessageResponse":{"properties":{"id":{"type":"integer","title":"Id"},"session_id":{"type":"string","title":"Session Id"},"message":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Message"}},"type":"object","required":["id","session_id"],"title":"MessageResponse"},"ProjectCreateRequest":{"properties":{"name":{"type":"string","maxLength":100,"minLength":1,"title":"Name"},"description":{"type":"string","maxLength":500,"title":"Description"}},"type":"object","required":["name","description"],"title":"ProjectCreateRequest"},"ProjectResponse":{"properties":{"id":{"type":"integer","title":"Id"},"name":{"type":"string","title":"Name"},"description":{"type":"string","title":"Description"},"user_id":{"type":"integer","title":"User Id"},"created_at":{"type":"string","format":"date-time","title":"Created At"},"updated_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Updated At"},"dify_dataset_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Dify Dataset Id"}},"type":"object","required":["id","name","description","user_id","created_at"],"title":"ProjectResponse"},"ProjectUpdateRequest":{"properties":{"name":{"anyOf":[{"type":"string","maxLength":100,"minLength":1},{"type":"null"}],"title":"Name"},"description":{"anyOf":[{"type":"string","maxLength":500},{"type":"null"}],"title":"Description"}},"type":"object","title":"ProjectUpdateRequest"},"ValidationError":{"properties":{"loc":{"items":{"anyOf":[{"type":"string"},{"type":"integer"}]},"type":"array","title":"Location"},"msg":{"type":"string","title":"Message"},"type":{"type":"string","title":"Error Type"}},"type":"object","required":["loc","msg","type"],"title":"ValidationError"}}}}